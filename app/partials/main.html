<navbar></navbar>
<nav class="navbar navbar-custom">
    <div class="navbar-inner ">
        <ul class="nav nav-justified">
            <li><a href="">Service Remainders</a></li>
            <li><a href="">Faults</a></li>
            <li><a href="">Docs</a></li>
            <li><a href="">Diagnostics Statistics</a></li>
        </ul>
    </div>
</nav>
<div class="container">
    <div class="row">
        <div class="container col-md-7">
            <alert  class="col-md-11 col-md-offset-1" ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
            <div class="panel panel-default col-md-11 custom-panel col-md-offset-1">
                <div class="panel-heading">Reminders</div>
                <div class="panel-body">
                    <div class="text-center" ng-if="pending">
                        <i class="fa fa-spinner fa-spin"></i>
                    </div>
                    <div ng-repeat="car in cars" ng-if="!pending">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th>Make</th>
                                <th>Model</th>
                                <th>Reg</th>
                                <th>Description</th>
                                <th>Type</th>
                                <th>Due Date</th>
                            </tr>
                            </thead>
                            <tr ng-repeat="reminder in car.reminders | filter:searchText" class="my-repeat-animation">
                                <td>{{car.make}}</td>
                                <td>{{car.model}}</td>
                                <td>{{car.registration}}</td>
                                <td> {{reminder.description}} </td>
                                <td> {{reminder.reminder_type}} </td>
                                <td> {{reminder.date | date:'yyyy-MM-dd'}} </td>

                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default col-md-4 custom-panel col-md-offset-1" ng-controller="carController">
            <div class="panel-heading"><input placeholder="Filter Cars" ng-model="searchText"><a href="#/addcar"><i class="fa fa-plus pull-right custom-icon-pos" tooltip-placement="bottom" tooltip="Add Car"></i></a></div>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Make</th>
                    <th>Model</th>
                    <th>Reg. Num</th>
                    <th></th>
                </tr>
                </thead>
                <tr ng-repeat="car in cars | filter:searchText" class="my-repeat-animation">
                    <td><a href="#/car/{{car.id}}">{{car.make}} </a></td>
                    <td> {{car.model}} </td>
                    <td> {{car.registration}} </td>
                    <td class="dropdown">

                        <a href="#" tooltip-placement="left" tooltip="Settings" class="dropdown-toggle"><i class="fa fa-cogs fa-lg"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="#/car/{{car.id}}"><i class="fa fa-bar-chart-o"> Dashboard</i></a></li>
                            <li><a><i class="fa fa-trash-o" ng-click="deleteCar(car.id,$index)"> Delete</i></a></li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7">
            <div class="panel panel-default col-md-6 custom-panel col-md-offset-1">
                <div class="panel-heading">Average litres per Entry</div>
                <div class=" gauge">
                    <pie-chart data="gauge_data" options="fuel_options"></pie-chart>
                </div>
            </div>
        </div>
    </div>
</div>

